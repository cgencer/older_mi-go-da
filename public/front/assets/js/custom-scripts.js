function checkIfAllValid(){var e=!0;$("#addCouponsModalCenter .coupon_field").each(function(){""===$(this).val()&&(e=!1)}),e?($("#addCouponsModalCenter .addCouponsModalButton").removeAttr("disabled").removeClass("mg-primary-button__disabled").addClass("mg-primary-button"),$("#addCouponsModalCenter .coupon_fields .validate_coupon").addClass("valid_coupon").removeClass("invalid_coupon"),$("#addCouponsModalCenter .addCouponsModalButton").addClass("handButton")):($("#addCouponsModalCenter .addCouponsModalButton").attr("disabled","disabled").removeClass("mg-primary-button").addClass("mg-primary-button__disabled"),$("#addCouponsModalCenter .coupon_fields .validate_coupon").addClass("invalid_coupon").removeClass("valid_coupon"),$("#addCouponsModalCenter .addCouponsModalButton").removeClass("handButton"))}function getValidBookingCoupons(){var e=$("#coupons_needed").val();$.ajax({dataType:"json",url:urlGetCoupons,success:function(a){var t=a.valid.length;$("#coupons_valid").html(t),t>=e?($("#bookingRequestButton").addClass("mg-primary-button").removeClass("mg-primary-button__disabled").removeAttr("disabled","disabled"),$("#book-bottom-passive").addClass("hidden"),$("#book-bottom-active").removeClass("hidden")):($("#bookingRequestButton").removeClass("mg-primary-button").addClass("mg-primary-button__disabled").attr("disabled","disabled"),$("#book-bottom-active").addClass("hidden"),$("#book-bottom-passive").removeClass("hidden"))}})}function getValidBookingCouponsProfile(){$.ajax({dataType:"json",url:urlGetCoupons,success:function(e){var a=e.valid.length,t=e.used;parseInt(a)<10&&(a="0"+a),parseInt(t)<10&&(t="0"+t),$(".coupons_valid").html(a),$(".coupons_used").html(t)}})}function generateCouponTextDiv(e){var a=$("<div/>");for(i=0;i<e.length;i++)a.append('<input type="text" value="'+e[i]+'" disabled="disabled" /> ');return a.append('<span class="validate_coupon valid_coupon"><i class="fas fa-check"></i></span>'),a}function checkBookingCoupons(){event.preventDefault();var e="";$("#addCouponsModalCenter .coupon_field").each(function(){e+=$(this).val()});var a={coupon_code:e};$.ajax({dataType:"json",url:urlChkCoupons,data:a,success:function(a){0==a.result?$("#addCouponsModalCenter .coupons_error").css("display","block"):($("#addCouponsModalCenter .coupons_error").css("display","none"),$("#addCouponsModalCenter .coupons_notice").css("display","block"),$("#addCouponsModalCenter .coupon_field").val(""),$("#addCouponsModalCenter .coupon_field").addClass("coupon_checked"),$("#addCouponsModalCenter .coupons_added").css("display","block"),$("#addCouponsModalCenter .coupons_added").append(generateCouponTextDiv(e)),$("#addCouponsModalCenter .addCouponsModalButton").attr("disabled","disabled").removeClass("mg-primary-button").addClass("mg-primary-button__disabled"),$("#addCouponsModalCenter .coupon_fields .validate_coupon").addClass("invalid_coupon").removeClass("valid_coupon"),$(".booking-details").length>0&&getValidBookingCoupons(),$(".profile-menu-bottom").length>0&&getValidBookingCouponsProfile())}})}$(".delete_coupon_codes").on("click",function(e){e.preventDefault(),$(".coupon_field").val(""),$(".coupons_error").css("display","none"),$(".addCouponsModalButton").addClass("mg-primary-button__disabled").removeClass("mg-primary-button").attr("disabled","disabled"),$(".addCouponsModalButton").addClass("handButton"),$(".coupon_fields .validate_coupon").addClass("invalid_coupon").removeClass("valid_coupon")}),$("#addCouponsModalCenter .coupon_field").focus(function(){var e=$(this);document.addEventListener("keydown",function(a){8===a.keyCode&&($(e).val(""),$("#addCouponsModalCenter .coupon_field").first().focus())})}),$("#addCouponsModalCenter .coupon_field").on("input",function(){$(this).val().length==$(this).attr("maxlength")&&$(this).next().focus(),checkIfAllValid()}),$(window).on("shown.bs.modal",function(){$("#addCouponsModalCenter .coupons_notice").css("display","none"),$("#addCouponsModalCenter .coupons_error").css("display","none")}),$(window).on("hidden.bs.modal",function(){$("#addCouponsModalCenter .coupons_notice").css("display","none"),$("#addCouponsModalCenter .coupons_error").css("display","none")}),$(".coupons_valid").length>0&&getValidBookingCouponsProfile(),$(".addCouponsModalButton").length>0&&$(".addCouponsModalButton").on("click",function(e){e.preventDefault();var a="";$("#addCouponsModalCenter .coupon_field").each(function(){a+=$(this).val()});var t={coupon_code:a};$.ajax({dataType:"json",url:urlAddCoupon,data:t,success:function(e){0==e.result?$("#addCouponsModalCenter .coupons_error").css("display","block"):($("#addCouponsModalCenter .coupons_error").css("display","none"),$("#addCouponsModalCenter .coupons_notice").css("display","block"),$("#addCouponsModalCenter .coupon_field").val(""),$("#addCouponsModalCenter .coupons_added").css("display","block"),$("#addCouponsModalCenter .coupons_added").append(generateCouponTextDiv(a)),$("#addCouponsModalCenter .addCouponsModalButton").attr("disabled","disabled").removeClass("mg-primary-button").addClass("mg-primary-button__disabled"),$("#addCouponsModalCenter .coupon_fields .validate_coupon").addClass("invalid_coupon").removeClass("valid_coupon"),$(".booking-details").length>0&&getValidBookingCoupons(),$(".profile-menu-bottom").length>0&&getValidBookingCouponsProfile())}})}),$(".mobile-menu-toggle").click(function(e){e.preventDefault(),$("body").toggleClass("menu-active"),$("html").toggleClass("menu-active")}),$(".signup-login_close").click(function(e){e.preventDefault(),$("body").removeClass("login-active"),$("html").removeClass("login-active"),$("body").removeClass("signup-active"),$("html").removeClass("signup-active"),$("body").removeClass("forgotten-active"),$("html").removeClass("forgotten-active")}),$(".trigger_signup-login").click(function(e){e.preventDefault(),$(this).parent().hasClass("menu-login")?($("body").toggleClass("login-active"),$("html").toggleClass("login-active")):($("body").toggleClass("signup-active"),$("html").toggleClass("signup-active"))}),$(".switch_signup-login").click(function(e){e.preventDefault(),$(this).parent().hasClass("menu-login")?($("body").addClass("login-active"),$("html").addClass("login-active"),$("body").removeClass("signup-active"),$("html").removeClass("signup-active")):($("body").addClass("signup-active"),$("html").addClass("signup-active"),$("body").removeClass("login-active"),$("html").removeClass("login-active"))}),$(".switch_signup").click(function(e){e.preventDefault(),$("body").addClass("signup-active"),$("html").addClass("signup-active"),$("body").removeClass("login-active"),$("html").removeClass("login-active"),$("body").removeClass("forgotten-active"),$("html").removeClass("forgotten-active")}),$(".switch_login").click(function(e){e.preventDefault(),$("body").addClass("login-active"),$("html").addClass("login-active"),$("body").removeClass("signup-active"),$("html").removeClass("signup-active"),$("body").removeClass("forgotten-active"),$("html").removeClass("forgotten-active")}),$(".switch_forgotten").click(function(e){e.preventDefault(),$("body").addClass("forgotten-active"),$("html").addClass("forgotten-active"),$("body").removeClass("signup-active"),$("html").removeClass("signup-active"),$("body").removeClass("login-active"),$("html").removeClass("login-active")}),$(".toggle-filter").on("click",function(e){e.preventDefault();var a=$(this).data("title-show"),t=$(this).data("title-hide");$(".filter_by").length>0?($(this).html("("+t+")"),$(".filter_by").removeClass("filter_by")):($(this).html("("+a+")"),$(".two-column-left-filters > form > h3").addClass("filter_by"),$(".two-column-left-filters > form > div").addClass("filter_by"))}),$(".trigger_registered--close").click(function(e){e.preventDefault(),$("body").hasClass("user_registered")&&$("body").removeClass("user_registered")}),$("a.detail-read-more").click(function(e){e.preventDefault(),$(this).siblings(".detail-text").removeClass("cropped"),$(this).hide()}),$(".submenu-trigger > a").length>0&&$(".submenu-trigger > a").on("click",function(e){e.preventDefault(),$(this).parent().children(".arrow_box").hasClass("active")?($(this).parent().children(".arrow_box").removeClass("active"),$(this).parent().children(".fa-caret-up").hide(),$(this).parent().children(".fa-caret-down").show()):($(this).parent().children(".arrow_box").addClass("active"),$(this).parent().children(".fa-caret-down").hide(),$(this).parent().children(".fa-caret-up").show())});var filtersForm=$("#filters-form");filtersForm.length;var categoriesBoxes=$(".category-content");categoriesBoxes.length>0&&categoriesBoxes.on("click",function(e){$(this).data("category-url")});var addToWishlist=$(".add-to-wishlist");function createCookie(e,a,t){var o;if(t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3),o="; expires="+n.toGMTString()}else o="";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(a)+o+"; path=/"}function formattedDate(e){var a=e.getMonth()+1,t=e.getDate();return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+a+"-"+t}function printFormattedDate(e,a,t){void 0===t&&(t="en"),$("a."+a).html($("#date-picker").datepicker().data("datepicker").formatDate("D,M d",new Date(e)))}function calculateRoomTotal(){var e=parseInt($("#guests_adult").val())+parseInt($("#guests_child").val()),a=$("#total_price").data("price-per-person"),t=new Date($("#date_checkin").val()),o=new Date($("#date_checkout").val()),n=Math.abs(o.getTime()-t.getTime()),s=Math.ceil(n/864e5);$("#calculated_price").html(a*s*e),$("#calculated_days").html(Math.ceil(e/2)*s)}function checkDates(){if($("#date_checkin").val()==$("#date_checkout").val()){var e=new Date($("#date_checkin").val()),a=new Date;a.setDate(e.getDate()+1),$("#date_checkout").val(formattedDate(a))}}addToWishlist.length>0&&addToWishlist.on("click",function(e){e.preventDefault();var a=$(this).attr("href"),t=$(this);$.ajax({dataType:"json",url:a,success:function(e){e.result&&(e.added?t.removeClass("mg-secondary-button").addClass("mg-primary-button"):t.removeClass("mg-primary-button").addClass("mg-secondary-button"))}})}),$(".backButton").on("click",function(e){e.preventDefault();var a=$(this).data("previous-url");location.href=a}),$(".notice-button").on("click",function(e){e.preventDefault();var a=$(this).data("cookie-id");createCookie(a,1),$("#"+a).hide()}),$(".select-replacement__line1").on("click",function(){$(this).parent().toggleClass("active")}),$(".select-replacement .num_up").on("click",function(e){e.preventDefault();var a=$(this).siblings(".num_val").html();return a<8&&a++,$(this).parents(".select-replacement").find(".num_val").html(a),$("#"+$(this).parents(".select-replacement").data("target-field")).val(a).trigger("change"),!1}),$(".select-replacement .num_down").on("click",function(e){e.preventDefault();var a=$(this).siblings(".num_val").html(),t=0;return"guests_adult"==$(this).parents(".select-replacement").data("target-field")&&(t=1),a>t&&a--,$(this).parents(".select-replacement.active").find(".num_val").html(a),$("#"+$(this).parents(".select-replacement").data("target-field")).val(a).trigger("change"),!1}),$(function(){$(".middle-banner_wrapper .slide").length>0&&cycleBackgrounds(),jQuery(".add-another-coupon").click(function(e){var a=jQuery(jQuery(this).attr("data-list")),t=a.data("widget-counter")|a.children().length,o=a.attr("data-prototype");o=o.replace(/__name__/g,t),t++,a.data("widget-counter",t),jQuery(a.attr("data-widget-tags")).html(o).appendTo(a)})});var today=new Date;$("#date-picker").datepicker({language:"en",range:!0,dateFormat:"yyyy-mm-dd",inline:!0,startDate:today,onRenderCell:function(e,a){if("day"==a)return isDisabled=today>e,{disabled:isDisabled}},onSelect:function(e,a,t){var o=e.split(",");if(void 0!==o[0]&&(printFormattedDate(o[0],"checkin"),$("#date_checkin").val(o[0])),void 0!==o[1])printFormattedDate(o[1],"checkout"),$("#date_checkout").val(o[1]),$(".dates-wrapper-outer").removeClass("picker-visible");else{var n=new Date($("#date_checkin").val()),s=new Date;s.setDate(n.getDate()+1),printFormattedDate(formattedDate(s),"checkout"),$("#date_checkout").val(formattedDate(s))}checkDates(),calculateRoomTotal()}}),$("#date-picker").css("display","none"),$(".dates-wrapper h4 a.checkin").on("click",function(e){e.preventDefault(),$(".dates-wrapper-outer").addClass("picker-visible")}),$(".dates-wrapper h4 a.checkout").on("click",function(e){e.preventDefault(),$(".dates-wrapper-outer").addClass("picker-visible")}),$(".more-filter").on("click",function(e){e.preventDefault(),$(this).siblings(".hidden-filter").removeClass("hidden-filter"),$(this).addClass("hidden-filter")}),$("#guests_child").on("change",function(e){calculateRoomTotal()}),$("#guests_adult").on("change",function(e){calculateRoomTotal()});var sliderDelay=1e3,sliderTimer=null;function cycleBackgrounds(){var e=0;$imageEls=$(".middle-banner_wrapper .slide"),setInterval(function(){e=e+1<$imageEls.length?e+1:0,$imageEls.eq(e).addClass("show"),$imageEls.eq(e-1).removeClass("show")},5e3)}$(".price-slider").length>0&&($(".price-slider").slider({}),$(".price-slider").on("slide",function(e){null!==sliderTimer&&clearTimeout(sliderTimer),$("#start-price").val(e.value[0]),$("#end-price").val(e.value[1]),$("#start-price-text").html(parseInt(e.value[0]*parseFloat($(this).data("slider-rate")))),$("#end-price-text").html(parseInt(e.value[1]*parseFloat($(this).data("slider-rate")))),sliderTimer=setTimeout(function(){},sliderDelay)}));
